---
title: 12.2 Swing基本组件的用法
categories: 
  - 疯狂Java讲义 (第4版)
  - 第12 Swing编程
  - 12.2 Swing基本组件的用法
date: 2020-02-07 10:22:18
updated: 2020-02-07 10:49:42
abbrlink: null
---
<div id='my_toc'><a href="/JavaReadingNotes/null/#12-2-Swing基本组件的用法" class="header_1">12.2 Swing基本组件的用法</a>&nbsp;<br><a href="/JavaReadingNotes/null/#12-2-1-Java的Swing组件层次" class="header_1">12.2.1 Java的Swing组件层次</a>&nbsp;<br><a href="/JavaReadingNotes/null/#Swing中的重量级组件" class="header_2">Swing中的重量级组件</a>&nbsp;<br><a href="/JavaReadingNotes/null/#Swing组件分类" class="header_2">Swing组件分类</a>&nbsp;<br></div>
<style>.header_1{margin-left: 1em;}.header_2{margin-left: 2em;}.header_3{margin-left: 3em;}.header_4{margin-left: 4em;}.header_5{margin-left: 5em;}.header_6{margin-left: 6em;}</style>
<!--more-->
<script>if (navigator.platform.search('arm')==-1){document.getElementById('my_toc').style.display = 'none';}var e,p = document.getElementsByTagName('p');while (p.length>0) {e = p[0];e.parentElement.removeChild(e);}</script>

<!--end-->
# 12.2 Swing基本组件的用法
前面已经提到,`Swing`为所有的`AWT`组件提供了对应实现(除`Canvas`组件之外,因为在`Swing`中无须继承`Canvas`组件),**通常在`AWT`组件的组件名前添加“J”就变成了对应的`Swing`组件**。
# 12.2.1 Java的Swing组件层次
**大部分`Swing`组件都是`JComponent`抽象类的直接或间接子类**(并不是全部的`Swing`组件)`JComponent`类定义了所有子类组件的通用方法,`JComponent`类是`AWI`里`Java.AwtContainer`类的子类,这也是`AWT`和`Swing`的联系之一。**绝大部分`Swing`组件类继承了`Container`类,所以`Swing`组件都可作为容器使用**(`JFrame`继承了`Frame`类)。图12.1显示了`Swing`组件继承层次图。
![这里有一张图片](https://raw.githubusercontent.com/lanlan2017/images/master/CrazyJavaHandout4/Chapter12/12.2.1/1.png)
<!-- CrazyJavaHandout4/Chapter12/12.2.1/ -->
图12.1中绘制了`Swing`所提供的绝大部分组件,其中以灰色区域覆盖的组件可以找到与之对应的`AWT`组件;`JWindow`与`AWT`中的`Window`相似,代表没有标题的窗口。读者不难发现这些`Swing`组件的类名和对应`AWT`组件的类型也基本一致,只要在原来的`AWT`组件类型前添加“J”即可,但有如下几个例外:
- `JComboBox`:对应于`AWT`里的`Choice`组件,但比`Choice`组件功能更丰富。
- `JFileChooser`:对应于`AWT`里的`FileDialog`组件。
- `JScrollBar`:对应于`AWT`里的`Scrollbar`组件,注意两个组件类名中b字母的大小写差别
- `JCheckBox`:对应于`AWT`里的`Checkbox`组件,注意两个组件类名中b字母的大小写差别。
- `JCheckBoxMenuitem`:对应于`AWT`里的`CheckboxMenuitem`组件,注意两个组件类名中b字母的大小写差别。

上面`JCheckBox`和`JCheckBoxMenuitem`与`Checkbox`和`CheckboxMenuitem`的差别主要是由早期`Java`命名不太规范造成的
## Swing中的重量级组件
从图12.1中可以看出,`Swing`中包含了4个组件直接继承了`AWT`组件,而不是从`JComponent`派生的,它们分别是:`JFrame`、`JWindow`、`JDialog`和`Japplet`,它们并不是轻量级组件,而是重量级组件(需要部分委托给运行平台上`GUI`组件的对等体)。

## Swing组件分类
将`Swing`组件按功能来分,又可分为如下几类
- 顶层容器:`JFrame`、`Japplet`、`JDialog`和`JWindow`。
- 中间容器:`JPanel`、`JScrollPane`、`JSplitPane`、`JToolBar`等
- 特殊容器:在用户界面上具有特殊作用的中间容器,如`JInternalFrame`、`JRootPane`、`JLayeredPane`和`JDestopPane`等。
- 基本组件:实现人机交互的组件,如`JButton`、`JComboBox`、`JList`、`JMenu`、`JSlider`等。
- 不可编辑信息的显示组件:向用户显示不可编辑信息的组件,如`JLabel`、`JProgressBar`和`JToolTip`.
- 可编辑信息的显示组件:向用户显示能被编辑的格式化信息的组件,如`JTable`、`JTextArea`和`JTextField`等。
- 特殊对话框组件:可以直接产生特殊对话框的组件,如`JColorChooser`和`JFileChooser`等。

# 12.2.2 AWT组件的Swing实现
从图121中可以看出,`Swing`为除`Canvas`之外的所有`AWT`组件提供了相应的实现,`Swing`组件比`AWT`组件的功能更加强大。相对于`AWT`组件,`Swing`组件具有如下4个额外的功能。
1. **可以为`Swing`组件设置提示信息**。使用`setToolTipText()`方法,为组件设置对用户有帮助的提示信息。
2. 很多`Swing`组件如按钮、标签、菜单项等,除使用文字外,还**可以使用图标**修饰自己。为了允许在`Swing`组件中使用图标,`Swing`为`Icon`接囗提供了一个实现类:`ImageIcon`,该实现类代表个图像图标。
3. **支持插拔式的外观风格**。每个`JComponent`对象都有一个相应的`ComponentUI`对象,为它完成所有的绘画、事件处理、决定尺寸大小等工作。`ComponentUI`对象依赖当前使用的`PLAF`,使用`UIManager.SetLookAndFeel()`方法可以改变图形界面的外观风格。
4. **支持设置边框。**`Swing`组件可以设置一个或多个边框。`Swing`中提供了各式各样的边框供用户选用,也能建立组合边框或自己设计边框。一种空白边框可以用于增大组件,同时协助布局管理器对容器中的组件进行合理的布局。

## UI代理类
每个`Swing`组件都有一个对应的`UI`类,例如`JButton`组件就有一个对应的`ButtonUI`类来作为`UI`代理。**每个`Swing`组件的`UI`代理的类名总是将该`Swing`组件类名的J去掉,然后在后面添加`UI`后缀**。`UI`代理类通常是一个抽象基类,不同的`PLAF`会有不同的`UI`代理实现类。`Swing`类库中包含了几套`UI`代理,每套`UI`代理都几乎包含了所有`Swing`组件的`Component`实现,每套这样的实现都被称为种`PLAF`实现。以`JButton`为例,其`UI`代理的继承层次如图12.2所示。
![这里有一张图片](https://raw.githubusercontent.com/lanlan2017/images/master/CrazyJavaHandout4/Chapter12/12.2.2/1.png)
<!-- CrazyJavaHandout4/Chapter12/12.2.2/ -->
如果需要改变程序的外观风格,则可以使用如下代码。
```java
try{
    //设置使用 Windows风格
    UIManager.setLookAndFeel("com.sun.java.swing.plaf.windows.windowsLookAndFeel");
    // 通过更新f容器以及f容器里所有组件的UI
    SwingUtilities.updateComponentTreeUI(f);
}
catch(Exception e){
    e.printstackTrace();
}
```
## 程序 Swing窗口
下面程序示范了使用`Swing`组件来创建窗口应用,该窗口里包含了菜单、右键菜单以及基本`AWT`组件的`Swing`实现。
